angular.module('debate-visualization')
  .controller('appController', ['$http',
    ($http) ->
      self = this;
      $http.get("<%= asset_path 'wordcloud/data/hillary-wc.json' %>").then( (response) ->
        self.hillary_words = response.data.map((d) ->
          {text: d.word, size: 10 + Math.random() * 90, sentiment: Math.random()*2 - 1});
      );
      $http.get("<%= asset_path 'wordcloud/data/trump-wc.json' %>").then( (response) ->
        self.trump_words = response.data.map((d) ->
          {text: d.word, size: Math.floor(Math.random() * 100), sentiment: Math.random()*2 - 1});
      );

      self.dem_blue = tinycolor("rgb(35,32,102");
      self.rep_red = tinycolor("rgb(233,29,14)");
      self.positive = tinycolor("rgb(32, 175, 0)");
      self.negative = tinycolor("rgb(232, 116, 0)");

      self.hillary_bio = "<%= asset_path 'layout/hillary/bio.html' %>";
      self.hillary_content = "<%= asset_path 'layout/hillary/content.html' %>";

      self.trump_bio = "<%= asset_path 'layout/trump/bio.html' %>";
      self.trump_content = "<%= asset_path 'layout/trump/content.html' %>";

      return;
  ]);
